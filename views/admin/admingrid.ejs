<div class="post-grid-container">
    <h2>Manage Posts</h2>
    <div class="post-grid" id="postGrid">
        <% posts.forEach((post, index) => { %>
            <div class="grid-item <%= index === 0 ? 'latest-post' : '' %>" data-post-id="<%= post._id %>">
                <!-- Position label for each post -->
                <div class="post-order">
                    <%= index === 0 ? 'Latest Post' : `${index + 1} Post` %>
                </div>
                <img src="<%= post.imagePaths.length ? post.imagePaths[0] : '/images/placeholder.jpg' %>" 
                     alt="<%= post.title %>" 
                     onerror="this.onerror=null; this.src='/images/placeholder.jpg';">
                <div class="grid-hover">
                    <button class="edit-btn" data-post-id="<%= post._id %>">Edit</button>
                    <button class="delete-btn" data-post-id="<%= post._id %>">Delete</button>
                </div>
            </div>
        <% }) %>
    </div>
    <div class="infinite-scroll-loader">Loading...</div>
</div>

<!-- Custom Delete Confirmation Modal -->
<div id="deleteConfirmationModal" class="modal" style="display: none;">
    <div class="modal-content">
        <h2>Confirm Deletion</h2>
        <p>Type "delete" to confirm:</p>
        <input type="text" id="deleteInput" placeholder="Type 'delete' here">
        <button id="confirmDeleteBtn">Delete</button>
        <button onclick="closeModal('deleteConfirmationModal')">Cancel</button>
    </div>
</div>

<!-- Post Deleted Modal -->
<div id="postDeletedModal" class="modal" style="display: none;">
    <div class="modal-content">
        <p>Post deleted and archived successfully.</p>
        <button onclick="closeModal('postDeletedModal')">Close</button>
    </div>
</div>
